{% load static %}
<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css">
        <script src="https://use.fontawesome.com/releases/v5.2.0/js/all.js"></script>
	<title></title>
	<meta name="viewport" content="width=device-width">
	<link rel="stylesheet" href="{% static 'HOAY/style.css'%}">
</head>
<body>
    <p id="logo"> hoopa </p>
    <form id="frm" action="" method="POST" enctype="multipart/form-data">
        {% csrf_token %}
<div class="flexBox">

	<div class="contain">
        <span>현재 나이를 입력해주세요.</span>
        <input type="number" name="realAge" required="" placeholder="ex)21" id="id_realAge">
	</div>
</div>
<div class="flexBox">
		
	<div class="contain">
		<span id="containPannel">사진을 첨부해주세요</span>
		<label for="id_faceImg" style="cursor:pointer;padding:100px 100px">
			
        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="image" class="svg-inline--fa fa-image fa-w-16 fa-3x" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"></path></svg>
        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus" class="svg-inline--fa fa-plus fa-w-14 fa-2x" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg>
        <input type="file" name="faceImg" accept="image/*" id="id_faceImg" onchange="previewFile()" required/>        </label>
			<img src="" style="height:150px;margin:10px;"  alt="이미지 미리보기...">
		
	</div>
	
</div>


    <!-- {{faceForm}} -->
<div class="flexBox">
        <div class="contain" onclick="smt()">
            제출
</div>

</div>
</form>

  <style>
    body{
      padding:0px;
      margin:0px;
    }
    .floatingBar{
      
      flex:1 1 100%;
      position:fixed;
      bottom:10px;
      left:-5px;
      padding:5px;
      display:flex;
      border-radius: 8px;
      width:100%;
      height:60px;
      background-color:#37383f;
      align-items:center;
      box-sizing:border-box;
    }
    .circleBtn{
      margin:5px;
      border:1px solid #181a1f;
      background-color:#23262e;
      display:flex;
      justify-content:center;
      align-items:center;
      border-radius: 50%;
      min-width:40px;
      min-height:40px;
    }
    .circleBtn > svg{
      color:#accabe;
      min-width:20px;
      min-height:20px;
      max-width:32px;
      max-height:32px;
    }
    .textNotice{
      padding-left:5px;
      flex:1 1;
      color:#accabe;
      font-weight: bold;
    }
    .btnBox{
      flex:1 1;
      display:flex;
      justify-content: flex-end;
    }
  </style>
  
  <div class="floatingBar animated slideInLeft">
    <div class="textNotice">
      다양한 소식과 이벤트 안내
    </div>
    <div class="btnBox">
        <div class="circleBtn">
            <svg  aria-hidden="true" focusable="false" data-prefix="fab" data-icon="instagram" class="svg-inline--fa fa-instagram fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"></path></svg>
        </div>
        
        <div class="circleBtn">
            <svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="comment" class="svg-inline--fa fa-comment fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"></path></svg>
        </div>
        <div class="circleBtn">
            <svg style="transform:rotate(45deg)" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus" class="svg-inline--fa fa-plus fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg>
        </div>
    </div>
    
</div>


<script>
function smt(){
    var imgs = document.getElementById('containPannel').innerText;
    var inputtext = document.getElementById('id_realAge').value;
    if(imgs == '사진을 첨부해주세요' ||  inputtext=="")
    alert("나이 또는 사진을 첨부하고 제출해주세요.");

    else{
        document.getElementById('frm').submit();
    }

    // {
    //     alert("에러");
    // }else{  }
    
}
function previewFile() {
  var preview = document.querySelector('img');
  var file    = document.getElementById('id_faceImg').files[0];
  var label = document.querySelector('label');
  var containPannel = document.getElementById("containPannel");
  var reader  = new FileReader();
  
  reader.addEventListener("load", function () {
    preview.src = reader.result;
	preview.style.display="block";
	label.style.display="none";
	containPannel.innerText="사진이 선택되었습니다.";
  }, false);

  if (file) {
    reader.readAsDataURL(file);
  }
}
</script>

</body>
</html>
